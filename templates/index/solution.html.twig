{% block body %}
	<div class="solution-common  use-money-common" id='reserveyourplace' style="background-image: url('{{ asset('build/images/usjticket/backgroundmidsection.png') }}');">


		<div class='reserveyourplace'>

			<h1>
				RÃ©servez vos places
			</h1>
			<p>
				au profit des bourses aux etudiants</p>
			<div class="mt-3 form-text" style="margin:auto;">
				{{form_start(form)}}
				<div class='pricetotalquantity d-flex w-100'>
					<div class='pricetotalquantityinput'>

						<p class="title-price">PRIX TOTAL</p>
						<p class="price" id="total-price">$250</p>
					</div>
					<div class='pricetotalquantityinput'>

						<p class="title-quant">QUANTITEE</p>
						<p class="quant">
							{{ form_widget(form.amount, {'attr': {'class': 'formamount'}}) }}</p>
					</div>
				</div>

				<div class='pricetotalquantityinput'>

					<p class="title-email mt-4">Votre Email pour recevoir les billets</p>
					{{ form_widget(form.email, {'attr': {'class': 'formemail'}}) }}
				</div>

				<div class='pricetotalquantityinput'>

					<p class="title-phone mt-4">Telephone Mobile</p>
					{{ form_widget(form.phoneNumber, {'attr': {'class': 'formphoneNumber'}}) }}
				</div>

				<button class="btn-submit mt-4" type="submit" id="submit-button" >Reservez Vos Places</button>
				{% if errordescription is not empty %}
					<p>{{ errordescription }}</p>
				{% endif %}
				{{form_end(form)}}
			</div>
		</div>


	</div>


	 <script>
		document.addEventListener('DOMContentLoaded', function () {
			const amountInput = document.getElementById('usj_ticket_amount');
			const emailInput = document.getElementById('usj_ticket_email');
			const phoneInput = document.getElementById('usj_ticket_phoneNumber');
			const submitButton = document.getElementById('submit-button');
			const totalPriceElement = document.getElementById('total-price');
			const pricePerUnit = 250;
		    
			function updatePrice() {
			    const amount = parseInt(amountInput.value, 10) || 1;
			    const totalPrice = amount * pricePerUnit;
			    totalPriceElement.textContent = `$${totalPrice}`;
			}
		    
			function validateForm() {
			    const isEmailFilled = emailInput.value.trim() !== '';
			    const isPhoneFilled = phoneInput.value.trim() !== '';
		    
			    submitButton.disabled = !(isEmailFilled && isPhoneFilled);
			}
		    
			amountInput.addEventListener('input', function () {
			    updatePrice();
			    validateForm();
			});
		    
			emailInput.addEventListener('input', validateForm);
			phoneInput.addEventListener('input', validateForm);
		    
			updatePrice();
			validateForm();
		    });
		    
	</script>
{% endblock %}
